model Chapter {
  name = "chapter"

  chapterid    int              @primary
  chapter      int              
  description  string           
  section      int              
  workid       Work(chapterid)  
}

model Character {
  name = "character"

  charid          id                       @primary
  abbrev          string?                  
  character_work  CharacterWork(charid)[]  
  charname        string                   
  description     string?                  
  paragraph       Paragraph(charid)[]      
  speechcount     int                      
}

model CharacterWork {
  name = "character_work"

  charid  Character()  
  workid  Work()       
}

model Paragraph {
  name = "paragraph"

  paragraphid    int                     @primary
  chapter        int                     
  charcount      int                     
  charid         Character(paragraphid)  
  paragraphnum   int                     
  paragraphtype  string                  
  phonetictext   string                  
  plaintext      string                  
  section        int                     
  stemtext       string                  
  wordcount      int                     
  workid         Work(paragraphid)       
}

model Wordform {
  name = "wordform"

  wordformid    int     @primary
  occurences    int     
  phonetictext  string  
  plaintext     string  
  stemtext      string  
}

model Work {
  name = "work"

  workid           id                       @primary
  chapter          Chapter(workid)[]        
  character_work   CharacterWork(workid)[]  
  genretype        string                   
  longtitle        string                   
  notes            string?                  
  paragraph        Paragraph(workid)[]      
  source           string                   
  title            string                   
  totalparagraphs  int                      
  totalwords       int                      
  year             int                      
}
